{
  "comment": "Reference template only. create-schedules.sh is the source of truth for ViewerAtlas EventBridge schedules.",
  "schedules": [
    {
      "name": "vieweratlas-analysis-daily",
      "description": "Run analysis pipeline daily at 03:00 UTC",
      "schedule_expression": "cron(0 3 * * ? *)",
      "target": {
        "cluster_arn": "arn:aws:ecs:${AWS_REGION}:${AWS_ACCOUNT_ID}:cluster/${ECS_CLUSTER}",
        "role_arn": "arn:aws:iam::${AWS_ACCOUNT_ID}:role/vieweratlas-eventbridge-ecs-role",
        "task_definition_arn": "arn:aws:ecs:${AWS_REGION}:${AWS_ACCOUNT_ID}:task-definition/vieweratlas-analysis"
      }
    },
    {
      "name": "vieweratlas-vod-6h",
      "description": "Run VOD collector every 6 hours",
      "schedule_expression": "rate(6 hours)",
      "target": {
        "cluster_arn": "arn:aws:ecs:${AWS_REGION}:${AWS_ACCOUNT_ID}:cluster/${ECS_CLUSTER}",
        "role_arn": "arn:aws:iam::${AWS_ACCOUNT_ID}:role/vieweratlas-eventbridge-ecs-role",
        "task_definition_arn": "arn:aws:ecs:${AWS_REGION}:${AWS_ACCOUNT_ID}:task-definition/vieweratlas-vod-collector"
      }
    }
  ],
  "required_inputs": [
    "AWS_REGION",
    "AWS_ACCOUNT_ID",
    "ECS_CLUSTER",
    "SUBNET_IDS",
    "SECURITY_GROUP_ID",
    "ASSIGN_PUBLIC_IP"
  ]
}
